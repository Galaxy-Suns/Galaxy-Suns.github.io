# 特殊成员函数

## 构造函数 析构函数

### 初始化列表

对于成员为`const`的类

在构造函数中

![](img/e4d66dd8.png)

不起作用

但是可以采取初始化列表

![](img/a717866c.png)

这会在变量声明时赋值 

相当于`const i = 3`是允许的

而 `const i` `i = 3` 是禁止的

此外引用也存在初始化后不能被重新赋值的情况 *其在声明时需要立即初始化*

如`ostream`的引用 需要使用初始化列表

可能的条件下 尽可能使用初始化列表

![](img/0f631012.png)

这个等同于

![](img/46a208d9.png)

### 拷贝操作

特殊的成员函数通常会被编译器自动生成 

* 默认构造函数
* 拷贝构造函数
* 拷贝赋值运算符
* 析构函数

拷贝构造函数和拷贝赋值运算符在使用`=`时调用

* 前者在将已有对象赋值到新对象时调用
* 后者在另一对象赋值给已经存在的对象时调用

![](img/c6500027.png)

从上到下每一行调用的函数分别是

* 拷贝构造函数 形参传递时 在作用域中创建新的变量
* 默认构造
* 初始化列表构造
* 函数原型 *奇怪的语法 不要使用*
* 拷贝构造
* 默认构造 `{}` 什么也没有 是`C++` 区分`()` 提供的默认构造方式
* 拷贝构造
* 拷贝构造 创建了新变量
* 拷贝赋值 赋值给存在的对象
* 拷贝构造 按值返回 在返回的作用域中创建了新变量

`C++` 默认提供的拷贝函数仅仅复制每个成员


